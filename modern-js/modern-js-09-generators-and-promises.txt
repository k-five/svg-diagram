تقریبا رسیدیم به پیچیده ترین و همزمان قوی ترین ترکیب فیچیری در جاواسکرپت حدید
یعنی سینک کردن پرامیس ها با جنریتور ها
خود پرامیس ها کمی گیج کننده ن
جنریتور ها بیشتر
و ترکیب این دو تا خیلی بیشتر

دوستان زیادی رو دیدم که دنبال مثال واقعی کار با جنریتورها بودن
در پست دیرور بیس اولیه رو با چند مثال ساده جلو بردم
بدون پرامیس ها
http://jsfun.ir/modern-javascript/generators-use-case

در پست امرور سه حالت با پرامیس ها رو هم با خروجی شون اوردم
http://jsfun.ir/modern-javascript/generators-and-promises

مثال ها رو با نود تست کنید
تست نکنید متوجه نمیشید داستان چیه

خلاصه ش
برای سنک کردن پرامیس ها با جنریتور ها باید مکانیزمی رو پیاده کنیم
که در اون پرامیسی که اجرا میشه بتونه ستیت داخل جنریتور رو فوروارد کنه
forwarding the state inside generator function
تا جنیریتور بتونه بره جلوتر و جلوتر

این پترن خیلی خیلی کاربرد داره و برای همین لاببرری برای ایجاد شدن
مثل
q
https://github.com/kriskowal/q

co
https://github.com/tj/co

asynquence
https://github.com/getify/asynquence

و خود کامیونیتی جاواسکریپت هم اون رو رپ کردن در چی؟
در
asycn-await
در واقع ایسینک-اویت لایه بالاتری از کار با پرامیس ها و جنریتروهاست

بریم برای پست بعدی